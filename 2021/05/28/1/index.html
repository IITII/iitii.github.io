<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.0.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/site/96memo.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/site/32memo.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/site/16memo.ico"><link rel="mask-icon" href="/images/site/memo.ico" color="#222"><meta name="google-site-verification" content="SrsInNUnd5avPjonJfK8DCpTb3EwdYd-eMaOhwiqHAM"><meta name="msvalidate.01" content="F22D650D11D294DF8D3528450CFEF5B1"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"iitii.github.io",root:"/",scheme:"Mist",version:"7.8.0",exturl:!0,sidebar:{position:"right",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!0,color:"#222",save:"manual"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="之前博客因为各种事情已经年久失修了，部分图标已经失效了，也不支持主题自动切换。趁现在有点时间，对博客做一下升级和重构，顺带支持一下主题切换和平滑升级。"><meta property="og:type" content="article"><meta property="og:title" content="Hexo Next 主题安装、配置及美化"><meta property="og:url" content="https://iitii.github.io/2021/05/28/1/"><meta property="og:site_name" content="Hello Memo"><meta property="og:description" content="之前博客因为各种事情已经年久失修了，部分图标已经失效了，也不支持主题自动切换。趁现在有点时间，对博客做一下升级和重构，顺带支持一下主题切换和平滑升级。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2021-05-28T06:24:02.000Z"><meta property="article:modified_time" content="2021-05-28T06:24:02.000Z"><meta property="article:author" content="IITII"><meta property="article:tag" content="安装"><meta property="article:tag" content="theme"><meta property="article:tag" content="hexo"><meta property="article:tag" content="hexo-next-theme"><meta property="article:tag" content="暗黑模式"><meta property="article:tag" content="主题跟随"><meta property="article:tag" content="平滑升级"><meta property="article:tag" content="配置"><meta property="article:tag" content="美化"><meta property="article:tag" content="sidebar"><meta property="article:tag" content="自动部署"><meta property="article:tag" content="gulp 压缩"><meta property="article:tag" content="hexo 文件压缩"><meta property="article:tag" content="Github Action"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://iitii.github.io/2021/05/28/1/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><script type="text/javascript" src="/js/love.js"></script><script></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-TN1BC2FF5V"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TN1BC2FF5V")</script><title>Hexo Next 主题安装、配置及美化 | Hello Memo</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Hello Memo" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Hello Memo</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i> 关于</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> 归档</a></li><li class="menu-item menu-item-github"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2lpdGlp"><i class="fab fa-github fa-fw"></i> Github</span></li><li class="menu-item menu-item-rss"><a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i> RSS</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://iitii.github.io/2021/05/28/1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/site/avatar.jpeg"><meta itemprop="name" content="IITII"><meta itemprop="description" content="山野之人，粗鄙之语"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Hello Memo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Hexo Next 主题安装、配置及美化</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-05-28 14:24:02" itemprop="dateCreated datePublished" datetime="2021-05-28T14:24:02+08:00">2021-05-28</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a></span></span><span id="/2021/05/28/1/" class="post-meta-item leancloud_visitors" data-flag-title="Hexo Next 主题安装、配置及美化" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Valine：</span><a title="valine" href="/2021/05/28/1/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2021/05/28/1/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>19k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>18 分钟</span></span><div class="post-description">之前博客因为各种事情已经年久失修了，部分图标已经失效了，也不支持主题自动切换。趁现在有点时间，对博客做一下升级和重构，顺带支持一下主题切换和平滑升级。</div></div></header><div class="post-body" itemprop="articleBody"><div class="note success"><p>文章内容有点多，推荐使用 <code>CTRL+F</code> 快速查找</p></div><h3 id="前因"><a href="#前因" class="headerlink" title="前因"></a>前因</h3><ul><li>博客许久之前就上线了，但是当初比较简单，隐藏的问题有点多。随着时间推移，问题一个一个的暴露出来了(/□＼*)</li></ul><h3 id="必须支持的功能"><a href="#必须支持的功能" class="headerlink" title="必须支持的功能"></a>必须支持的功能</h3><blockquote class="blockquote-center"><i class="fa fa-quote-left"></i><p>为了现代化和可持续发展</p><i class="fa fa-quote-right"></i></blockquote><ul><li>暗黑主题</li><li>主题跟随系统</li><li>界面简洁</li><li>可配置功能多</li><li>主题持续更新</li><li>可以做到主题平滑升级</li></ul><h3 id="选择-hexo-next-theme-的理由？"><a href="#选择-hexo-next-theme-的理由？" class="headerlink" title="选择 hexo-next-theme 的理由？"></a>选择 hexo-next-theme 的理由？</h3><blockquote class="blockquote-center"><i class="fa fa-quote-left"></i><p>写又写不来，就只能这样子过过生活啦~</p><i class="fa fa-quote-right"></i></blockquote><ul><li>支持暗黑模式</li><li>主题跟随系统</li><li>可配置功能多</li><li>个性化程度高</li><li>比较简洁</li><li>文档简单易懂</li><li>Github 更新频繁（持续更新）</li><li>其他社区支持的主题要么不够简洁，要么不定期更新，要么不支持暗黑模式</li></ul><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><h4 id="安装-NodeJS"><a href="#安装-NodeJS" class="headerlink" title="安装 NodeJS"></a>安装 NodeJS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash</span><br><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">&quot;<span class="subst">$([ -z <span class="string">&quot;<span class="variable">$&#123;XDG_CONFIG_HOME-&#125;</span>&quot;</span> ] &amp;&amp; printf %s <span class="string">&quot;<span class="variable">$&#123;HOME&#125;</span>/.nvm&quot;</span> || printf %s <span class="string">&quot;<span class="variable">$&#123;XDG_CONFIG_HOME&#125;</span>/nvm&quot;</span>)</span>&quot;</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; \. <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> <span class="comment"># This loads nvm</span></span><br><span class="line">nvm install --lts</span><br></pre></td></tr></table></figure><h4 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><h4 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h4><div class="note warning"><p>因为我们使用 Github Pages 作为部署方式，所以我们最好需要将项目名称建立为: &lt;Github Username&gt;.github.io<br>比如：iitii.github.io</p></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;project name&gt;</span><br></pre></td></tr></table></figure><h4 id="安装-Hexo-next-theme"><a href="#安装-Hexo-next-theme" class="headerlink" title="安装 Hexo-next-theme"></a>安装 Hexo-next-theme</h4><ol><li>进入项目文件夹</li><li><code>git clone -b master https://github.com/theme-next/hexo-theme-next.git themes/next --depth=1</code></li><li>修改站点 <code>_config.yml</code> 里面的 <code>theme</code> 的值为 <code>next</code></li></ol><div class="note warning"><p>如果不在特别声明的情况下:</p><ul><li>站点配置文件指项目根目录下面的 <code>_config.yml</code></li><li>主题配置文件指主题文件夹下面的 <code>_config.yml</code></li></ul></div><h3 id="配置主题"><a href="#配置主题" class="headerlink" title="配置主题"></a>配置主题</h3><h4 id="修改网站基本信息"><a href="#修改网站基本信息" class="headerlink" title="修改网站基本信息"></a>修改网站基本信息</h4><ul><li>修改站点配置文件里面的 site 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">网站标题</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">网站副标题</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">网站描述</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">作者</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span> <span class="comment">#语言</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&quot;Asia/Shanghai&quot;</span> <span class="comment">#时区</span></span><br></pre></td></tr></table></figure><h4 id="修改博客自动生成的链接"><a href="#修改博客自动生成的链接" class="headerlink" title="修改博客自动生成的链接"></a>修改博客自动生成的链接</h4><blockquote><p>See: <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3poLWNuL2RvY3MvcGVybWFsaW5rcy5odG1s">永久链接（Permalinks）<i class="fa fa-external-link-alt"></i></span></p></blockquote><ul><li>默认的链接太长了，而且修改文章标题的话，会丢失原来的访问次数（不是同一个链接）</li><li>为了方便分享和管理，推荐设置成如下形式</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:second/</span></span><br><span class="line"><span class="comment">#permalink: :year/:month/:day/1/</span></span><br></pre></td></tr></table></figure><h4 id="文章按创建时间排序"><a href="#文章按创建时间排序" class="headerlink" title="文章按创建时间排序"></a>文章按创建时间排序</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = &#x27;&#x27;)</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span> <span class="comment"># 每页数量</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br></pre></td></tr></table></figure><h4 id="修改新建文章时的模板"><a href="#修改新建文章时的模板" class="headerlink" title="修改新建文章时的模板"></a>修改新建文章时的模板</h4><blockquote><p>自定义 hexo new 生成 md 文件的模板</p></blockquote><ul><li>修改站点文件夹下面的 <code>scaffolds/post.md</code> 和 <code>scaffolds/draft.md</code> 如下</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> &#123;&#123; <span class="string">title</span> &#125;&#125;</span><br><span class="line"><span class="attr">date:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="attr">updated:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="attr">permalink:</span> </span><br><span class="line"><span class="attr">top:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">password:</span></span><br><span class="line"><span class="attr">comments:</span> </span><br><span class="line"><span class="attr">copyright:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="attr">categories:</span> </span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">description:</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h4 id="设置博客主题跟随系统主题"><a href="#设置博客主题跟随系统主题" class="headerlink" title="设置博客主题跟随系统主题"></a>设置博客主题跟随系统主题</h4><ul><li>修改主题配置文件的 <code>darkmode</code> 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Dark Mode</span></span><br><span class="line"><span class="attr">darkmode:</span> <span class="string">auto</span> <span class="comment"># dark|light|auto</span></span><br></pre></td></tr></table></figure><h4 id="修改网站图标"><a href="#修改网站图标" class="headerlink" title="修改网站图标"></a>修改网站图标</h4><ul><li>修改主题配置文件的 favicon 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/site/16memo.ico</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/site/32memo.ico</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/site/96memo.png</span></span><br><span class="line">  <span class="attr">safari_pinned_tab:</span> <span class="string">/images/site/memo.ico</span></span><br><span class="line">  <span class="comment"># small: /images/favicon-16x16-next.png</span></span><br><span class="line">  <span class="comment"># medium: /images/favicon-32x32-next.png</span></span><br><span class="line">  <span class="comment"># apple_touch_icon: /images/apple-touch-icon-next.png</span></span><br><span class="line">  <span class="comment"># safari_pinned_tab: /images/logo.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure><h4 id="修改菜单栏"><a href="#修改菜单栏" class="headerlink" title="修改菜单栏"></a>修改菜单栏</h4><ul><li>修改主题配置文件里面的 <code>menu</code> 部分</li></ul><blockquote><p>Github 的链接可以去掉或者换成自己的</p></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="comment">#tags: /tags/ || fa fa-tags</span></span><br><span class="line">  <span class="comment">#categories: /categories/ || fa fa-th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">Github:</span> <span class="string">https://github.com/iitii</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">  <span class="attr">RSS:</span> <span class="string">/atom.xml</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-rss</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || fa fa-heartbeat</span></span><br></pre></td></tr></table></figure><h4 id="修改边栏的位置"><a href="#修改边栏的位置" class="headerlink" title="修改边栏的位置"></a>修改边栏的位置</h4><ul><li>修改主题配置文件里面的 <code>sidebar</code> 部分的 <code>position</code></li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="comment"># Sidebar Position.</span></span><br><span class="line">  <span class="comment"># position: left</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Manual define the sidebar width. If commented, will be default for:</span></span><br><span class="line">  <span class="comment"># Muse | Mist: 320</span></span><br><span class="line">  <span class="comment"># Pisces | Gemini: 240</span></span><br><span class="line">  <span class="comment">#width: 300</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar Display (only for Muse | Mist), available values:</span></span><br><span class="line">  <span class="comment">#  - post    expand on posts automatically. Default.</span></span><br><span class="line">  <span class="comment">#  - always  expand for all pages automatically.</span></span><br><span class="line">  <span class="comment">#  - hide    expand only when click on the sidebar toggle icon.</span></span><br><span class="line">  <span class="comment">#  - remove  totally remove sidebar including sidebar toggle.</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar padding in pixels.</span></span><br><span class="line">  <span class="attr">padding:</span> <span class="number">18</span></span><br><span class="line">  <span class="comment"># Sidebar offset from top menubar in pixels (only for Pisces | Gemini).</span></span><br><span class="line">  <span class="attr">offset:</span> <span class="number">12</span></span><br><span class="line">  <span class="comment"># Enable sidebar on narrow view (only for Muse | Mist).</span></span><br><span class="line">  <span class="attr">onmobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="边栏显示图像和社交信息"><a href="#边栏显示图像和社交信息" class="headerlink" title="边栏显示图像和社交信息"></a>边栏显示图像和社交信息</h4><ul><li>修改主题配置文件的 <code>avatar</code> 和 <code>social</code> 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># Replace the default image and set the url here.</span></span><br><span class="line">  <span class="comment"># url: #/images/avatar.gif</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/site/avatar.jpeg</span> <span class="comment"># 图片地址</span></span><br><span class="line">  <span class="comment"># If true, the avatar will be dispalyed in circle.</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span> <span class="comment"># 是否可旋转</span></span><br><span class="line">  <span class="comment"># If true, the avatar will be rotated with the cursor.</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">true</span> <span class="comment"># 是否圆角</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Posts / Categories / Tags in sidebar.</span></span><br><span class="line"><span class="attr">site_state:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Social Links</span></span><br><span class="line"><span class="comment"># Usage: `Key: permalink || icon`</span></span><br><span class="line"><span class="comment"># Key is the link label showing to end users.</span></span><br><span class="line"><span class="comment"># Value before `||` delimiter is the target permalink, value after `||` delimiter is the name of Font Awesome icon.</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/iitii</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="string">mailto:ccmejx@gmail.com</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="attr">Telegram:</span> <span class="string">https://t.me/callmehelp</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-telegram</span></span><br><span class="line">  <span class="comment">#GitHub: https://github.com/yourname || fab fa-github</span></span><br><span class="line">  <span class="comment">#E-Mail: mailto:yourname@gmail.com || fa fa-envelope</span></span><br><span class="line">  <span class="comment">#Weibo: https://weibo.com/yourname || fab fa-weibo</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || fab fa-google</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || fab fa-twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || fab fa-facebook</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || fab fa-stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || fab fa-youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || fab fa-instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || fab fa-skype</span></span><br><span class="line"></span><br><span class="line"><span class="attr">social_icons:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否启用</span></span><br><span class="line">  <span class="attr">icons_only:</span> <span class="literal">false</span> <span class="comment"># 只显示图标</span></span><br><span class="line">  <span class="attr">transition:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="页脚设置站点建立时间"><a href="#页脚设置站点建立时间" class="headerlink" title="页脚设置站点建立时间"></a>页脚设置站点建立时间</h4><blockquote><p>比如文章底部的: <code>© 2018 – 2021</code></p></blockquote><ul><li>修改主题配置文件 footer 部分的 since 的值为你想要的</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">since:</span> <span class="number">2018</span> <span class="comment">#设置站点建立的时间，默认为今年</span></span><br></pre></td></tr></table></figure><h4 id="修改页脚时间和作者之间的图标"><a href="#修改页脚时间和作者之间的图标" class="headerlink" title="修改页脚时间和作者之间的图标"></a>修改页脚时间和作者之间的图标</h4><ul><li>修改主题配置文件 footer 部分的 icon 的值为你想要的</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">icon:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">fa</span> <span class="string">fa-heart</span> <span class="comment"># 图标 See: https://fontawesome.com/icons</span></span><br><span class="line">    <span class="attr">animated:</span> <span class="literal">true</span> <span class="comment"># 是否有动画效果</span></span><br><span class="line">    <span class="attr">color:</span> <span class="string">&quot;#ff0000&quot;</span> <span class="comment">#图标颜色</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">copyright:</span> <span class="comment"># 不填写将以站点配置文件里面的作者填充</span></span><br></pre></td></tr></table></figure><h4 id="隐藏页脚的-“由-xxxx-强力驱动”"><a href="#隐藏页脚的-“由-xxxx-强力驱动”" class="headerlink" title="隐藏页脚的 “由 xxxx 强力驱动”"></a>隐藏页脚的 “由 xxxx 强力驱动”</h4><ul><li>修改主题配置文件 footer 部分的 powered 的值为你想要的</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="comment"># 隐藏 footer &#x27;由 HEXO 强力驱动&#x27;</span></span><br><span class="line">  <span class="attr">powered:</span> <span class="literal">false</span> <span class="comment"># false: 不显示 true: 显示</span></span><br></pre></td></tr></table></figure><h4 id="添加书签-记录阅读位置"><a href="#添加书签-记录阅读位置" class="headerlink" title="添加书签(记录阅读位置)"></a>添加书签(记录阅读位置)</h4><ul><li>修改主题配置文件 <code>bookmark</code> 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bookmark:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否启用</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;#222&quot;</span> <span class="comment"># 颜色</span></span><br><span class="line">  <span class="attr">save:</span> <span class="string">auto</span> <span class="comment"># auto: 自动保存 manual: 手动保存</span></span><br></pre></td></tr></table></figure><h4 id="侧栏回到顶部按钮"><a href="#侧栏回到顶部按钮" class="headerlink" title="侧栏回到顶部按钮"></a>侧栏回到顶部按钮</h4><ul><li>修改主题配置文件 <code>back2top</code> 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">back2top:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否启用</span></span><br></pre></td></tr></table></figure><h4 id="侧栏阅读进度提示"><a href="#侧栏阅读进度提示" class="headerlink" title="侧栏阅读进度提示"></a>侧栏阅读进度提示</h4><ul><li>修改主题配置文件 <code>back2top</code> 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">back2top:</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">true</span> <span class="comment"># 是否显示阅读进度</span></span><br></pre></td></tr></table></figure><h4 id="类似加载条阅读进度提示"><a href="#类似加载条阅读进度提示" class="headerlink" title="类似加载条阅读进度提示"></a>类似加载条阅读进度提示</h4><ul><li>修改主题配置文件 <code>reading_progress</code> 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reading_progress:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否启用</span></span><br><span class="line">  <span class="comment"># Available values: top | bottom</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">bottom</span> <span class="comment"># top: 顶部 bottom: 底部</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;#37c6c0&quot;</span> <span class="comment">#颜色</span></span><br><span class="line">  <span class="attr">height:</span> <span class="string">3px</span> <span class="comment">#高度</span></span><br></pre></td></tr></table></figure><h3 id="美化主题"><a href="#美化主题" class="headerlink" title="美化主题"></a>美化主题</h3><h4 id="文章添加居中模块"><a href="#文章添加居中模块" class="headerlink" title="文章添加居中模块"></a>文章添加居中模块</h4><ul><li>文章内容 markdown 书写如下:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% cq %&#125;</span><br><span class="line">就像这样</span><br><span class="line">&#123;% endcq %&#125;</span><br></pre></td></tr></table></figure><blockquote class="blockquote-center"><i class="fa fa-quote-left"></i><p>就像这样</p><i class="fa fa-quote-right"></i></blockquote><h4 id="自定义文件的路径"><a href="#自定义文件的路径" class="headerlink" title="自定义文件的路径"></a>自定义文件的路径</h4><ul><li>修改主题配置文件 <code>custom_file_path</code> 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="string">source/_data/head.swig</span> <span class="comment">#添加自定义内容在 head</span></span><br><span class="line">  <span class="comment">#header: source/_data/header.swig #添加自定义内容在顶栏</span></span><br><span class="line">  <span class="comment">#sidebar: source/_data/sidebar.swig #添加自定义内容在边栏</span></span><br><span class="line">  <span class="comment">#postMeta: source/_data/post-meta.swig #添加自定义文章的 meta 信息</span></span><br><span class="line">  <span class="attr">postBodyEnd:</span> <span class="string">source/_data/post-body-end.swig</span> <span class="comment">#添加自定义内容在文章尾部</span></span><br><span class="line">  <span class="attr">footer:</span> <span class="string">source/_data/footer.swig</span> <span class="comment">#添加自定义内容在页脚</span></span><br><span class="line">  <span class="comment">#bodyEnd: source/_data/body-end.swig</span></span><br><span class="line">  <span class="comment">#variable: source/_data/variables.styl</span></span><br><span class="line">  <span class="comment">#mixin: source/_data/mixins.styl</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">source/_data/styles.styl</span> <span class="comment">#添加自定义css</span></span><br></pre></td></tr></table></figure><h4 id="鼠标点击出现小红心"><a href="#鼠标点击出现小红心" class="headerlink" title="鼠标点击出现小红心"></a>鼠标点击出现小红心</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ol><li>下载保存 <a href="/js/love.js">love.js</a> 到 <code>source/js/love.js</code></li><li>在 <code>source/_data/head.swig</code> 添加以下内容</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 页面点击小红心 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/love.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="文章加密访问"><a href="#文章加密访问" class="headerlink" title="文章加密访问"></a>文章加密访问</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>在 <code>source/_data/head.swig</code> 添加以下内容</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 文章加密 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    (<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span>(<span class="string">&#x27;&#123;&#123; page.password &#125;&#125;&#x27;</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (<span class="title function_">prompt</span>(<span class="string">&#x27;请输入文章密码&#x27;</span>) !== <span class="string">&#x27;&#123;&#123; page.password &#125;&#125;&#x27;</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">alert</span>(<span class="string">&#x27;密码错误！&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                history.<span class="title function_">back</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li>然后文章中添加：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">password: password</span><br></pre></td></tr></table></figure><blockquote><p>如果 <code>password</code> 后面为空，则表示不用密码。</p></blockquote><h4 id="首页文章阴影-卡片化-效果"><a href="#首页文章阴影-卡片化-效果" class="headerlink" title="首页文章阴影(卡片化)效果"></a>首页文章阴影(卡片化)效果</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>添加以下内容到 <code>source/_data/styles.styl</code></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 主页文章添加阴影效果</span><br><span class="line"><span class="selector-class">.post-block</span> &#123;</span><br><span class="line">   <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">   -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, .<span class="number">5</span>);</span><br><span class="line">   -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">204</span>, .<span class="number">5</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="避免链接和代码过长，而导致样式问题"><a href="#避免链接和代码过长，而导致样式问题" class="headerlink" title="避免链接和代码过长，而导致样式问题"></a>避免链接和代码过长，而导致样式问题</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>添加以下内容到 <code>source/_data/styles.styl</code></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 避免链接和代码过长，而导致样式问题</span><br><span class="line"><span class="selector-class">.post-block</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.post-block</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="文章图片圆角"><a href="#文章图片圆角" class="headerlink" title="文章图片圆角"></a>文章图片圆角</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>添加以下内容到 <code>source/_data/styles.styl</code></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 图片圆角</span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">1em</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="修改文章内链接文本的样式"><a href="#修改文章内链接文本的样式" class="headerlink" title="修改文章内链接文本的样式"></a>修改文章内链接文本的样式</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>将链接文本设置为蓝色，鼠标划过时文字颜色加深，并显示下划线。</li><li>添加以下内容到 <code>source/_data/styles.styl</code></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 将链接文本设置为蓝色，鼠标划过时文字颜色加深，并显示下划线。</span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0477ab</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="修改文章底部的标签的-为图标"><a href="#修改文章底部的标签的-为图标" class="headerlink" title="修改文章底部的标签的 # 为图标"></a>修改文章底部的标签的 # 为图标</h4><ul><li>修改主题配置文件 <code>tag_icon</code> 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tag_icon:</span> <span class="literal">true</span> <span class="comment"># true: 显示为图标</span></span><br></pre></td></tr></table></figure><h4 id="修复暗黑模式下标签的样式"><a href="#修复暗黑模式下标签的样式" class="headerlink" title="修复暗黑模式下标签的样式"></a>修复暗黑模式下标签的样式</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>添加以下内容到 <code>source/_data/styles.styl</code></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 适配暗黑模式下博客的 tag</span><br><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-tags</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--content-bg-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="文章底部添加文章推荐功能"><a href="#文章底部添加文章推荐功能" class="headerlink" title="文章底部添加文章推荐功能"></a>文章底部添加文章推荐功能</h4><ul><li><code>npm install hexo-related-popular-posts</code></li><li>修改主题配置文件 <code>related_posts</code> 部分为你想要的</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">related_posts:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">要不看点其他的吧?..</span> <span class="comment"># Custom header, leave empty to use the default one</span></span><br><span class="line">  <span class="attr">display_in_home:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">params:</span></span><br><span class="line">    <span class="attr">maxCount:</span> <span class="number">5</span> <span class="comment"># 最多显示数量</span></span><br><span class="line">    <span class="attr">PPMixingRate:</span> <span class="number">0.5</span> <span class="comment"># 最大显示相似度</span></span><br></pre></td></tr></table></figure><h4 id="文章底部添加本文结束提示"><a href="#文章底部添加本文结束提示" class="headerlink" title="文章底部添加本文结束提示"></a>文章底部添加本文结束提示</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>添加以下内容到 <code>source/_data/post-body-end.swig</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% <span class="keyword">if</span> not is_index %&#125;</span><br><span class="line">        &lt;div style=<span class="string">&quot;text-align:center;color: #ccc;font-size:14px;&quot;</span>&gt;-------------本文结束&lt;i <span class="keyword">class</span>=<span class="string">&quot;fa fa-paw&quot;</span>&gt;&lt;<span class="regexp">/i&gt;再接再厉-------------&lt;/</span>div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h4 id="文章底部添加版权信息"><a href="#文章底部添加版权信息" class="headerlink" title="文章底部添加版权信息"></a>文章底部添加版权信息</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>添加以下内容到 <code>source/_data/post-body-end.swig</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> page.<span class="property">copyright</span> %&#125;</span><br><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;my_post_copyright&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>本文标题:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; url_for(page.path) &#125;&#125;&quot;</span>&gt;</span>&#123;&#123; page.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>文章作者:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span> <span class="attr">title</span>=<span class="string">&quot;访问 &#123;&#123; config.author &#125;&#125; 的个人博客&quot;</span>&gt;</span>&#123;&#123; config.author &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>发布时间:<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#123;&#123; page.date.format(&quot;YYYY年MM月DD日 - HH:MM&quot;) &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>最后更新:<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#123;&#123; page.updated.format(&quot;YYYY年MM月DD日 - HH:MM&quot;) &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>原始链接:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; url_for(page.path) &#125;&#125;&quot;</span> <span class="attr">title</span>=<span class="string">&quot;&#123;&#123; page.title &#125;&#125;&quot;</span>&gt;</span>&#123;&#123; page.permalink &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>许可协议:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fab fa-creative-commons&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">rel</span>=<span class="string">&quot;license&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://creativecommons.org/licenses/by-nc-nd/4.0/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">title</span>=<span class="string">&quot;Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            署名-非商业性使用-禁止演绎 4.0 国际<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        转载请保留原文链接及作者。</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><ul><li>添加一下内容到 <code>source/_data/styles.styl</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">my_post_copyright</span> &#123;</span><br><span class="line"><span class="comment">//   width: 85%;</span></span><br><span class="line">  max-<span class="attr">width</span>: 45em;</span><br><span class="line">  <span class="attr">margin</span>: <span class="number">2.</span>8em auto <span class="number">0</span>;</span><br><span class="line">  <span class="attr">padding</span>: <span class="number">0.</span>5em <span class="number">1.</span>0em;</span><br><span class="line">  <span class="attr">border</span>: 1px solid #d3d3d3;</span><br><span class="line">  font-<span class="attr">size</span>: <span class="number">0.</span>93rem;</span><br><span class="line">  line-<span class="attr">height</span>: <span class="number">1.</span>6em;</span><br><span class="line">  word-<span class="attr">break</span>: <span class="keyword">break</span>-all;</span><br><span class="line"><span class="comment">//   background: rgba(255,255,255,0.4);</span></span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">my_post_copyright</span> p&#123;<span class="attr">margin</span>:<span class="number">0</span>;&#125;</span><br><span class="line">.<span class="property">my_post_copyright</span> span &#123;</span><br><span class="line">  <span class="attr">display</span>: inline-block;</span><br><span class="line">  <span class="attr">width</span>: <span class="number">5.</span>2em;</span><br><span class="line">  <span class="attr">color</span>: #b5b5b5;</span><br><span class="line">  font-<span class="attr">weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">my_post_copyright</span> .<span class="property">raw</span> &#123;</span><br><span class="line">  margin-<span class="attr">left</span>: 1em;</span><br><span class="line">  <span class="attr">width</span>: 5em;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">my_post_copyright</span> a &#123;</span><br><span class="line">  <span class="attr">color</span>: #<span class="number">808080</span>;</span><br><span class="line">  border-<span class="attr">bottom</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">my_post_copyright</span> <span class="attr">a</span>:hover &#123;</span><br><span class="line">  <span class="attr">color</span>: #a3d2a3;</span><br><span class="line">  text-<span class="attr">decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">my_post_copyright</span>:hover .<span class="property">fa</span>-clipboard &#123;</span><br><span class="line">  <span class="attr">color</span>: #<span class="number">000</span>;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">my_post_copyright</span> .<span class="property">post</span>-<span class="attr">url</span>:hover &#123;</span><br><span class="line">  font-<span class="attr">weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">my_post_copyright</span> .<span class="property">copy</span>-path &#123;</span><br><span class="line">  margin-<span class="attr">left</span>: 1em;</span><br><span class="line">  <span class="attr">width</span>: 1em;</span><br><span class="line">  +<span class="title function_">mobile</span>(<span class="params"></span>)&#123;<span class="attr">display</span>:none;&#125;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">my_post_copyright</span> .<span class="property">copy</span>-<span class="attr">path</span>:hover &#123;</span><br><span class="line">  <span class="attr">color</span>: #<span class="number">808080</span>;</span><br><span class="line">  <span class="attr">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="文章底部添加打赏按钮"><a href="#文章底部添加打赏按钮" class="headerlink" title="文章底部添加打赏按钮"></a>文章底部添加打赏按钮</h4><ul><li>修改主题配置文件 reward 部分为你想要的</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">wechatpay:</span> <span class="string">/images/site/wechatpay2.png</span> <span class="comment"># 微信</span></span><br><span class="line">  <span class="attr">alipay:</span> <span class="string">/images/site/alipay.png</span> <span class="comment"># 支付宝</span></span><br><span class="line">  <span class="comment">#paypal: /images/paypal.png</span></span><br><span class="line">  <span class="comment">#bitcoin: /images/bitcoin.png</span></span><br></pre></td></tr></table></figure><h4 id="页脚添加运行时间"><a href="#页脚添加运行时间" class="headerlink" title="页脚添加运行时间"></a>页脚添加运行时间</h4><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>添加如下内容到 <code>source/_data/footer.swig</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--添加网站运行时间--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>小破站已经在风雨中度过了<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;timeDate&quot;</span>&gt;</span>载入天数...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;times&quot;</span>&gt;</span>载入时分秒...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">createtime</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> startTime = <span class="string">&#x27;09/27/2018 00:12:55&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            start = <span class="keyword">new</span> <span class="title class_">Date</span>(startTime)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> mill = <span class="keyword">new</span> <span class="title class_">Date</span>() - start,</span></span><br><span class="line"><span class="language-javascript">            seconds = <span class="title class_">Math</span>.<span class="title function_">floor</span>(mill / <span class="number">1000</span>),</span></span><br><span class="line"><span class="language-javascript">            mins = <span class="title class_">Math</span>.<span class="title function_">floor</span>(seconds / <span class="number">60</span>),</span></span><br><span class="line"><span class="language-javascript">            hours = <span class="title class_">Math</span>.<span class="title function_">floor</span>(mins / <span class="number">60</span>),</span></span><br><span class="line"><span class="language-javascript">            days = <span class="title class_">Math</span>.<span class="title function_">floor</span>(hours / <span class="number">24</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> time = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">seconds</span>: seconds - mins * <span class="number">60</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">mins</span>: mins - hours * <span class="number">60</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">hours</span>: hours - days * <span class="number">24</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">const</span> k <span class="keyword">in</span> time) &#123;</span></span><br><span class="line"><span class="language-javascript">            time[k] = <span class="string">`<span class="subst">$&#123;time[k]&#125;</span>`</span>.<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&#x27;0&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;timeDate&quot;</span>).<span class="property">innerHTML</span> = <span class="string">` <span class="subst">$&#123;days&#125;</span> 天`</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;times&quot;</span>).<span class="property">innerHTML</span> = <span class="string">` <span class="subst">$&#123;time.hours&#125;</span> 小时 <span class="subst">$&#123;time.mins&#125;</span> 分 <span class="subst">$&#123;time.seconds&#125;</span> 秒`</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">setInterval</span>(createtime, <span class="number">500</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="博文压缩"><a href="#博文压缩" class="headerlink" title="博文压缩"></a>博文压缩</h4><ul><li>在站点的根目录下执行以下命令：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp -g</span><br><span class="line">npm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp gulp-babel @babel/preset-env @babel/core</span><br></pre></td></tr></table></figure><ul><li>在博客根目录下新建 <code>gulpfile.js</code>, 并填入以下内容：</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>),</span><br><span class="line">    minifycss = <span class="built_in">require</span>(<span class="string">&#x27;gulp-minify-css&#x27;</span>),</span><br><span class="line">    uglify = <span class="built_in">require</span>(<span class="string">&#x27;gulp-uglify&#x27;</span>),</span><br><span class="line">    htmlmin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlmin&#x27;</span>),</span><br><span class="line">    htmlclean = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlclean&#x27;</span>),</span><br><span class="line">    imagemin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-imagemin&#x27;</span>),</span><br><span class="line">    babel = <span class="built_in">require</span>(<span class="string">&#x27;gulp-babel&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩css文件</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-css&#x27;</span>, <span class="keyword">function</span> (<span class="params">done</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.css&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">minifycss</span>())</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> <span class="title function_">done</span>(e))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩html文件</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-html&#x27;</span>, <span class="keyword">function</span> (<span class="params">done</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.html&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">htmlclean</span>())</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> <span class="title function_">done</span>(e))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">htmlmin</span>(&#123;</span><br><span class="line">            <span class="attr">continueOnParseError</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">removeComments</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">minifyJS</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">minifyCSS</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">minifyURLs</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;))</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> <span class="title function_">done</span>(e))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩js文件</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-js&#x27;</span>, <span class="keyword">function</span> (<span class="params">done</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>([<span class="string">&#x27;./public/**/*.js&#x27;</span>, <span class="string">&#x27;!./public/**/*.min.js&#x27;</span>])</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">babel</span>(&#123;</span><br><span class="line">            <span class="comment">//将ES6代码转译为可执行的JS代码</span></span><br><span class="line">            <span class="comment">// presets: [&#x27;es2015&#x27;] // es5检查机制</span></span><br><span class="line">            <span class="attr">presets</span>: [<span class="string">&quot;@babel/preset-env&quot;</span>]</span><br><span class="line">        &#125;))</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> <span class="title function_">done</span>(e))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">uglify</span>())</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> <span class="title function_">done</span>(e))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩 public/images 目录内图片(Version&gt;3)</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-images&#x27;</span>, <span class="keyword">function</span> (<span class="params">done</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> opts = &#123; <span class="attr">verbose</span>: <span class="literal">true</span> &#125;</span><br><span class="line">    gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/images/**/*.*&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(imageMinify = <span class="title function_">imagemin</span>([</span><br><span class="line">            imagemin.<span class="title function_">gifsicle</span>(&#123; <span class="attr">interlaced</span>: <span class="literal">true</span> &#125;),</span><br><span class="line">            imagemin.<span class="title function_">mozjpeg</span>(&#123; <span class="attr">quality</span>: <span class="number">70</span>, <span class="attr">progressive</span>: <span class="literal">true</span> &#125;),</span><br><span class="line">            imagemin.<span class="title function_">optipng</span>(&#123; <span class="attr">optimizationLevel</span>: <span class="number">5</span> &#125;),</span><br><span class="line">            imagemin.<span class="title function_">svgo</span>(&#123; <span class="attr">plugins</span>: [&#123; <span class="attr">removeViewBox</span>: <span class="literal">true</span> &#125;, &#123; <span class="attr">cleanupIDs</span>: <span class="literal">false</span> &#125;] &#125;)</span><br><span class="line">        ], opts))</span><br><span class="line">        .<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> <span class="title function_">done</span>(e))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public/images&#x27;</span>))</span><br><span class="line">    <span class="comment">// .on(&#x27;end&#x27;, () =&gt; done())</span></span><br><span class="line">    <span class="title function_">done</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.0以前的写法 </span></span><br><span class="line"><span class="comment">//gulp.task(&#x27;default&#x27;, [&#x27;minify-html&#x27;, &#x27;minify-css&#x27;, &#x27;minify-js&#x27;, &#x27;minify-images&#x27;])</span></span><br><span class="line"><span class="comment">//4.0以后的写法</span></span><br><span class="line"><span class="comment">// 执行 gulp 命令时执行的任务</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;default&#x27;</span>, gulp.<span class="title function_">series</span>(gulp.<span class="title function_">parallel</span>(<span class="string">&#x27;minify-html&#x27;</span>, <span class="string">&#x27;minify-css&#x27;</span>, <span class="string">&#x27;minify-js&#x27;</span>, <span class="string">&#x27;minify-images&#x27;</span>)))</span><br></pre></td></tr></table></figure><h4 id="搜索功能"><a href="#搜索功能" class="headerlink" title="搜索功能"></a>搜索功能</h4><ul><li>安装 <code>hexo-generator-searchdb</code>，在站点的根目录下执行以下命令：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb</span><br></pre></td></tr></table></figure><ul><li>编辑站点配置文件，新增以下内容到任意位置：</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><h4 id="文章阅读量、访问量计数"><a href="#文章阅读量、访问量计数" class="headerlink" title="文章阅读量、访问量计数"></a>文章阅读量、访问量计数</h4><blockquote><p>不蒜子计数好像无法访问<br>不蒜子计数存在部分 BUG<br>不蒜子计数无法控制<br>综上，放弃不蒜子计数，统一使用 <strong>LeanCloud</strong> 进行计数</p></blockquote><ol><li>注册或登录 <code>leancloud.app</code></li><li>新建或打开已有应用</li><li>获取 APPID 和 AppKey</li><li>数据存储 -&gt; 结构化数据 -&gt; 创建名为 <code>Counter</code> 的 <code>class</code></li><li>修改主题配置文件 <code>leancloud_visitors</code> 部分</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">leancloud_visitors:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 是否启用</span></span><br><span class="line">  <span class="attr">app_id:</span> <span class="comment"># &lt;your app id&gt;</span></span><br><span class="line">  <span class="attr">app_key:</span>  <span class="comment"># &lt;your app key&gt;</span></span><br><span class="line">  <span class="comment"># Required for apps from CN region</span></span><br><span class="line">  <span class="attr">server_url:</span> <span class="comment"># &lt;your server url&gt;</span></span><br><span class="line">  <span class="attr">security:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="页脚添加总访问量"><a href="#页脚添加总访问量" class="headerlink" title="页脚添加总访问量"></a>页脚添加总访问量</h4><blockquote><p>不蒜子计数好像无法访问<br>不蒜子计数存在部分 BUG<br>不蒜子计数无法控制<br>综上，放弃不蒜子计数，统一使用 <strong>LeanCloud</strong> 进行计数</p></blockquote><blockquote><p>请先配置<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84">自定义文件的路径</a></p></blockquote><ul><li>添加如下内容到 <code>source/_data/footer.swig</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--添加总阅读次数--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>本站总访问量<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;site_total_read_count&quot;</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">sleep</span>(<span class="params">ms = <span class="number">1000</span></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="built_in">clearTimeout</span>(timer)</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="title function_">resolve</span>()</span></span><br><span class="line"><span class="language-javascript">                &#125;, ms)</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">site_read_count</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> className = <span class="string">&#x27;Counter&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                query = <span class="keyword">new</span> <span class="variable constant_">AV</span>.<span class="title class_">Query</span>(className)</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> query.<span class="title function_">find</span>()</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">then</span>(<span class="function"><span class="params">_</span> =&gt;</span> _.<span class="title function_">map</span>(<span class="function"><span class="params">i</span> =&gt;</span> i.<span class="property">attributes</span>.<span class="property">time</span>))</span></span><br><span class="line"><span class="language-javascript">                .<span class="title function_">then</span>(<span class="function"><span class="params">_</span> =&gt;</span> _.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b))</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable constant_">AV</span> !== <span class="string">&quot;undefined&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="built_in">clearInterval</span>(timer)</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="title function_">resolve</span>()</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;, <span class="number">250</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">then</span>(<span class="function">() =&gt;</span> <span class="title function_">site_read_count</span>())</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">then</span>(<span class="function"><span class="params">_</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> s = <span class="string">` <span class="subst">$&#123;_&#125;</span> 次`</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;site_total_read_count&quot;</span>).<span class="property">innerHTML</span> = s</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">            .<span class="title function_">catch</span>(<span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(e.<span class="property">message</span>))</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="评论功能"><a href="#评论功能" class="headerlink" title="评论功能"></a>评论功能</h4><ol><li>注册或登录 <code>leancloud.app</code></li><li>新建或打开已有应用</li><li>获取 APPID 和 AppKey</li><li>数据存储 -&gt; 结构化数据 -&gt; 创建名为 <code>Comment</code> 的 <code>class</code></li><li>修改主题配置文件 <code>valine</code> 部分</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">appid:</span>  <span class="comment"># Your leancloud application appid</span></span><br><span class="line">  <span class="attr">appkey:</span>  <span class="comment"># Your leancloud application appkey</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">true</span> <span class="comment"># 邮件通知</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">true</span> <span class="comment"># 验证码</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">写点什么...</span> <span class="comment"># Comment box placeholder</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">mm</span> <span class="comment"># Gravatar style</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># Custom comment header</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># Pagination size</span></span><br><span class="line">  <span class="attr">language:</span> <span class="string">zh-cn</span> <span class="comment"># Language, available values: en, zh-cn</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">true</span> <span class="comment"># Article reading statistic</span></span><br><span class="line">  <span class="attr">comment_count:</span> <span class="literal">true</span> <span class="comment"># If false, comment count will only be displayed in post page, not in home page</span></span><br><span class="line">  <span class="attr">recordIP:</span> <span class="literal">false</span> <span class="comment"># Whether to record the commenter IP</span></span><br><span class="line">  <span class="attr">serverURLs:</span> <span class="comment"># When the custom domain name is enabled, fill it in here (it will be detected automatically by default, no need to fill in)</span></span><br><span class="line">  <span class="comment">#post_meta_order: 0</span></span><br></pre></td></tr></table></figure><h4 id="文章字数计数、阅读时间估计、站点总字数统计、总时间统计"><a href="#文章字数计数、阅读时间估计、站点总字数统计、总时间统计" class="headerlink" title="文章字数计数、阅读时间估计、站点总字数统计、总时间统计"></a>文章字数计数、阅读时间估计、站点总字数统计、总时间统计</h4><ul><li><code>npm install hexo-symbols-count-time</code></li><li>修改主题配置文件的 <code>symbols_count_time</code> 部分</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item_text_post:</span> <span class="literal">true</span> <span class="comment"># 文章字数统计</span></span><br><span class="line">  <span class="attr">item_text_total:</span> <span class="literal">true</span> <span class="comment"># 站点总字数统计</span></span><br><span class="line">  <span class="comment"># 平均单词长度（单词的计数）。默认值:4。CN≈2 EN≈5 俄文≈6</span></span><br><span class="line">  <span class="attr">awl:</span> <span class="number">2</span></span><br><span class="line">  <span class="comment"># 每分钟的单词。默认值:275。缓慢≈200 正常≈275 快≈350</span></span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">275</span></span><br></pre></td></tr></table></figure><h3 id="如何平滑升级"><a href="#如何平滑升级" class="headerlink" title="如何平滑升级"></a>如何平滑升级</h3><div class="note info"><p><code>git pull</code> 即可</p></div><ul><li>因为之前我们只对主题的配置文件进行了修改，所以做到平滑升级其实很简单</li></ul><ol><li>复制一份主题配置文件到站点文件夹下里，切记要不同的名字</li><li>git reset –hard HEAD 撤销子模块的更改</li><li>git pull 即可升级</li><li>升级完成以后可以将配置文件复制回去</li><li>这样就完成了升级操作</li><li>也可以写成脚本，更加方便</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">cd &quot;$(cd &quot;$(dirname &quot;$&#123;BASH_SOURCE[0]&#125;&quot;)&quot; &amp;&amp; pwd)&quot; &amp;&amp; cd ..</span><br><span class="line">CONFIG_FILE=&quot;_config.yml&quot;</span><br><span class="line">NEXT_THEME_FILE=&quot;next.theme.yml&quot;</span><br><span class="line">THEME_DIR=&quot;themes/next&quot;</span><br><span class="line">TARGET_FILE=&quot;$&#123;THEME_DIR&#125;/$&#123;CONFIG_FILE&#125;&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">clone</span> and update submodules</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">ls</span> themes</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">ls</span> -r themes/next</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">ls</span> -r <span class="string">&quot;<span class="variable">$&#123;THEME_DIR&#125;</span>&quot;</span></span></span><br><span class="line">echo &quot;Init git submodules&quot;</span><br><span class="line">[ -s &quot;$&#123;THEME_DIR&#125;&quot; ] || git submodule init</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git submodule init</span></span><br><span class="line">echo &quot;Update git submodules&quot;</span><br><span class="line">git submodule update --recursive</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">copy theme config file</span></span><br><span class="line">echo &quot;Coping theme config file&quot;</span><br><span class="line">[ -s &quot;$&#123;NEXT_THEME_FILE&#125;&quot; ] &amp;&amp; cp &quot;$&#123;NEXT_THEME_FILE&#125;&quot; &quot;$&#123;TARGET_FILE&#125;&quot;</span><br><span class="line">head -n 1 &quot;$&#123;TARGET_FILE&#125;&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Install dependencies &amp;&amp; update <span class="built_in">env</span></span></span><br><span class="line">echo &quot;Install npm dependencies&quot;</span><br><span class="line">[ -s &quot;node_modules&quot; ] || npm i</span><br><span class="line">echo &quot;Load hexo binary...&quot;</span><br><span class="line">export PATH=&quot;$PATH:./node_modules/.bin&quot;</span><br><span class="line">echo &quot;Hexo version: $(hexo -v)&quot;</span><br><span class="line">echo &quot;Gulp version: $(gulp -v)&quot;</span><br><span class="line">echo &quot;Gulp Tasks&quot; &amp;&amp; gulp --tasks</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Generate site &amp;&amp; minify site files, such as: html, js, css</span></span><br><span class="line">hexo g --debug &amp;&amp; gulp -LLLL</span><br></pre></td></tr></table></figure><h3 id="自动化部署更新"><a href="#自动化部署更新" class="headerlink" title="自动化部署更新"></a>自动化部署更新</h3><blockquote><p>使用 Github Action 进行自动化部署</p></blockquote><p>See: <a href="/2021/05/29/1/">使用 GithubAction 自动更新部署 Hexo 博客</a></p><h3 id="问题排查"><a href="#问题排查" class="headerlink" title="问题排查"></a>问题排查</h3><h4 id="Git-not-a-command"><a href="#Git-not-a-command" class="headerlink" title="Git not a command"></a>Git not a command</h4><ul><li>百度安装 Git 即可</li></ul><h4 id="Deployer-not-found-git"><a href="#Deployer-not-found-git" class="headerlink" title="Deployer not found: git"></a>Deployer not found: git</h4><ul><li><code>npm install hexo-deployer-git –save</code></li></ul><h4 id="ERROR-Plugin-load-failed-hexo-generator-feed"><a href="#ERROR-Plugin-load-failed-hexo-generator-feed" class="headerlink" title="ERROR Plugin load failed: hexo-generator-feed"></a>ERROR Plugin load failed: hexo-generator-feed</h4><h4 id="Module-xxx-NOT-FOUND"><a href="#Module-xxx-NOT-FOUND" class="headerlink" title="Module xxx NOT_FOUND"></a>Module xxx NOT_FOUND</h4><ul><li>检查站点文件夹下面的 <code>package.json</code>, 至少要有以下内容</li><li>没有的可以通过 <code>npm install xxx</code> 进行安装</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@babel/core&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.14.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/preset-env&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.14.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;gulp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.0.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;gulp-babel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^8.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;gulp-htmlclean&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.7.22&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;gulp-htmlmin&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;gulp-imagemin&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;gulp-minify-css&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.2.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;gulp-uglify&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.0.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-archive&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-category&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-feed&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-search&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.4.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-related-popular-posts&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-ejs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-kramed&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.1.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-marked&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-stylus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-symbols-count-time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.7.1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div><div class="popular-posts-header">要不看点其他的吧?..</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2020/02/24/1/" rel="bookmark">Docker 安装 Oracle 数据库</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2018/09/27/Ubuntu18.04配置flat-remiax主题/" rel="bookmark">Ubuntu18.04配置Flat-remiax主题</a></div></li></ul><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>再接再厉-------------</div></div><div class="my_post_copyright"><p><span>本文标题:</span><a href="/2021/05/28/1/">Hexo Next 主题安装、配置及美化</a></p><p><span>文章作者:</span><a href="/" title="访问 IITII 的个人博客">IITII</a></p><p><span>发布时间:</span>2021年05月28日 - 14:05</p><p><span>最后更新:</span>2021年05月28日 - 14:05</p><p><span>原始链接:</span><a href="/2021/05/28/1/" title="Hexo Next 主题安装、配置及美化">https://iitii.github.io/2021/05/28/1/</a></p><p><span>许可协议:</span><i class="fab fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p></div><div class="reward-container"><div></div><button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'>打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/site/wechatpay2.png" alt="IITII 微信支付"><p>微信支付</p></div><div style="display:inline-block"><img src="/images/site/alipay.png" alt="IITII 支付宝"><p>支付宝</p></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E5%AE%89%E8%A3%85/" rel="tag"><i class="fa fa-tag"></i> 安装</a><a href="/tags/theme/" rel="tag"><i class="fa fa-tag"></i> theme</a><a href="/tags/hexo/" rel="tag"><i class="fa fa-tag"></i> hexo</a><a href="/tags/hexo-next-theme/" rel="tag"><i class="fa fa-tag"></i> hexo-next-theme</a><a href="/tags/%E6%9A%97%E9%BB%91%E6%A8%A1%E5%BC%8F/" rel="tag"><i class="fa fa-tag"></i> 暗黑模式</a><a href="/tags/%E4%B8%BB%E9%A2%98%E8%B7%9F%E9%9A%8F/" rel="tag"><i class="fa fa-tag"></i> 主题跟随</a><a href="/tags/%E5%B9%B3%E6%BB%91%E5%8D%87%E7%BA%A7/" rel="tag"><i class="fa fa-tag"></i> 平滑升级</a><a href="/tags/%E9%85%8D%E7%BD%AE/" rel="tag"><i class="fa fa-tag"></i> 配置</a><a href="/tags/%E7%BE%8E%E5%8C%96/" rel="tag"><i class="fa fa-tag"></i> 美化</a><a href="/tags/sidebar/" rel="tag"><i class="fa fa-tag"></i> sidebar</a><a href="/tags/%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/" rel="tag"><i class="fa fa-tag"></i> 自动部署</a><a href="/tags/gulp-%E5%8E%8B%E7%BC%A9/" rel="tag"><i class="fa fa-tag"></i> gulp 压缩</a><a href="/tags/hexo-%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9/" rel="tag"><i class="fa fa-tag"></i> hexo 文件压缩</a><a href="/tags/Github-Action/" rel="tag"><i class="fa fa-tag"></i> Github Action</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2021/05/27/1/" rel="prev" title="Mac 强制删除过长文件名文件"><i class="fa fa-chevron-left"></i> Mac 强制删除过长文件名文件</a></div><div class="post-nav-item"><a href="/2021/05/29/1/" rel="next" title="使用 GithubAction 自动更新部署 Hexo 博客">使用 GithubAction 自动更新部署 Hexo 博客<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E5%9B%A0"><span class="nav-number">1.</span> <span class="nav-text">前因</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%85%E9%A1%BB%E6%94%AF%E6%8C%81%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="nav-number">2.</span> <span class="nav-text">必须支持的功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E6%8B%A9-hexo-next-theme-%E7%9A%84%E7%90%86%E7%94%B1%EF%BC%9F"><span class="nav-number">3.</span> <span class="nav-text">选择 hexo-next-theme 的理由？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">4.</span> <span class="nav-text">准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-NodeJS"><span class="nav-number">4.1.</span> <span class="nav-text">安装 NodeJS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Hexo"><span class="nav-number">4.2.</span> <span class="nav-text">安装 Hexo</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="nav-number">4.3.</span> <span class="nav-text">初始化项目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Hexo-next-theme"><span class="nav-number">4.4.</span> <span class="nav-text">安装 Hexo-next-theme</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E4%B8%BB%E9%A2%98"><span class="nav-number">5.</span> <span class="nav-text">配置主题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%BD%91%E7%AB%99%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="nav-number">5.1.</span> <span class="nav-text">修改网站基本信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E7%9A%84%E9%93%BE%E6%8E%A5"><span class="nav-number">5.2.</span> <span class="nav-text">修改博客自动生成的链接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E6%8C%89%E5%88%9B%E5%BB%BA%E6%97%B6%E9%97%B4%E6%8E%92%E5%BA%8F"><span class="nav-number">5.3.</span> <span class="nav-text">文章按创建时间排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E6%96%B0%E5%BB%BA%E6%96%87%E7%AB%A0%E6%97%B6%E7%9A%84%E6%A8%A1%E6%9D%BF"><span class="nav-number">5.4.</span> <span class="nav-text">修改新建文章时的模板</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E8%B7%9F%E9%9A%8F%E7%B3%BB%E7%BB%9F%E4%B8%BB%E9%A2%98"><span class="nav-number">5.5.</span> <span class="nav-text">设置博客主题跟随系统主题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%BD%91%E7%AB%99%E5%9B%BE%E6%A0%87"><span class="nav-number">5.6.</span> <span class="nav-text">修改网站图标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E8%8F%9C%E5%8D%95%E6%A0%8F"><span class="nav-number">5.7.</span> <span class="nav-text">修改菜单栏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E8%BE%B9%E6%A0%8F%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="nav-number">5.8.</span> <span class="nav-text">修改边栏的位置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BE%B9%E6%A0%8F%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F%E5%92%8C%E7%A4%BE%E4%BA%A4%E4%BF%A1%E6%81%AF"><span class="nav-number">5.9.</span> <span class="nav-text">边栏显示图像和社交信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B5%E8%84%9A%E8%AE%BE%E7%BD%AE%E7%AB%99%E7%82%B9%E5%BB%BA%E7%AB%8B%E6%97%B6%E9%97%B4"><span class="nav-number">5.10.</span> <span class="nav-text">页脚设置站点建立时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E9%A1%B5%E8%84%9A%E6%97%B6%E9%97%B4%E5%92%8C%E4%BD%9C%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%9B%BE%E6%A0%87"><span class="nav-number">5.11.</span> <span class="nav-text">修改页脚时间和作者之间的图标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9A%90%E8%97%8F%E9%A1%B5%E8%84%9A%E7%9A%84-%E2%80%9C%E7%94%B1-xxxx-%E5%BC%BA%E5%8A%9B%E9%A9%B1%E5%8A%A8%E2%80%9D"><span class="nav-number">5.12.</span> <span class="nav-text">隐藏页脚的 “由 xxxx 强力驱动”</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E4%B9%A6%E7%AD%BE-%E8%AE%B0%E5%BD%95%E9%98%85%E8%AF%BB%E4%BD%8D%E7%BD%AE"><span class="nav-number">5.13.</span> <span class="nav-text">添加书签(记录阅读位置)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%A7%E6%A0%8F%E5%9B%9E%E5%88%B0%E9%A1%B6%E9%83%A8%E6%8C%89%E9%92%AE"><span class="nav-number">5.14.</span> <span class="nav-text">侧栏回到顶部按钮</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%A7%E6%A0%8F%E9%98%85%E8%AF%BB%E8%BF%9B%E5%BA%A6%E6%8F%90%E7%A4%BA"><span class="nav-number">5.15.</span> <span class="nav-text">侧栏阅读进度提示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E4%BC%BC%E5%8A%A0%E8%BD%BD%E6%9D%A1%E9%98%85%E8%AF%BB%E8%BF%9B%E5%BA%A6%E6%8F%90%E7%A4%BA"><span class="nav-number">5.16.</span> <span class="nav-text">类似加载条阅读进度提示</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BE%8E%E5%8C%96%E4%B8%BB%E9%A2%98"><span class="nav-number">6.</span> <span class="nav-text">美化主题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E5%B1%85%E4%B8%AD%E6%A8%A1%E5%9D%97"><span class="nav-number">6.1.</span> <span class="nav-text">文章添加居中模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84"><span class="nav-number">6.2.</span> <span class="nav-text">自定义文件的路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E5%87%BA%E7%8E%B0%E5%B0%8F%E7%BA%A2%E5%BF%83"><span class="nav-number">6.3.</span> <span class="nav-text">鼠标点击出现小红心</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E5%8A%A0%E5%AF%86%E8%AE%BF%E9%97%AE"><span class="nav-number">6.4.</span> <span class="nav-text">文章加密访问</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A6%96%E9%A1%B5%E6%96%87%E7%AB%A0%E9%98%B4%E5%BD%B1-%E5%8D%A1%E7%89%87%E5%8C%96-%E6%95%88%E6%9E%9C"><span class="nav-number">6.5.</span> <span class="nav-text">首页文章阴影(卡片化)效果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%81%BF%E5%85%8D%E9%93%BE%E6%8E%A5%E5%92%8C%E4%BB%A3%E7%A0%81%E8%BF%87%E9%95%BF%EF%BC%8C%E8%80%8C%E5%AF%BC%E8%87%B4%E6%A0%B7%E5%BC%8F%E9%97%AE%E9%A2%98"><span class="nav-number">6.6.</span> <span class="nav-text">避免链接和代码过长，而导致样式问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E5%9B%BE%E7%89%87%E5%9C%86%E8%A7%92"><span class="nav-number">6.7.</span> <span class="nav-text">文章图片圆角</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E6%96%87%E7%AB%A0%E5%86%85%E9%93%BE%E6%8E%A5%E6%96%87%E6%9C%AC%E7%9A%84%E6%A0%B7%E5%BC%8F"><span class="nav-number">6.8.</span> <span class="nav-text">修改文章内链接文本的样式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E7%9A%84%E6%A0%87%E7%AD%BE%E7%9A%84-%E4%B8%BA%E5%9B%BE%E6%A0%87"><span class="nav-number">6.9.</span> <span class="nav-text">修改文章底部的标签的 # 为图标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E5%A4%8D%E6%9A%97%E9%BB%91%E6%A8%A1%E5%BC%8F%E4%B8%8B%E6%A0%87%E7%AD%BE%E7%9A%84%E6%A0%B7%E5%BC%8F"><span class="nav-number">6.10.</span> <span class="nav-text">修复暗黑模式下标签的样式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E6%8E%A8%E8%8D%90%E5%8A%9F%E8%83%BD"><span class="nav-number">6.11.</span> <span class="nav-text">文章底部添加文章推荐功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E6%B7%BB%E5%8A%A0%E6%9C%AC%E6%96%87%E7%BB%93%E6%9D%9F%E6%8F%90%E7%A4%BA"><span class="nav-number">6.12.</span> <span class="nav-text">文章底部添加本文结束提示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E4%BF%A1%E6%81%AF"><span class="nav-number">6.13.</span> <span class="nav-text">文章底部添加版权信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E6%B7%BB%E5%8A%A0%E6%89%93%E8%B5%8F%E6%8C%89%E9%92%AE"><span class="nav-number">6.14.</span> <span class="nav-text">文章底部添加打赏按钮</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B5%E8%84%9A%E6%B7%BB%E5%8A%A0%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4"><span class="nav-number">6.15.</span> <span class="nav-text">页脚添加运行时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%9A%E6%96%87%E5%8E%8B%E7%BC%A9"><span class="nav-number">6.16.</span> <span class="nav-text">博文压缩</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD"><span class="nav-number">6.17.</span> <span class="nav-text">搜索功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E3%80%81%E8%AE%BF%E9%97%AE%E9%87%8F%E8%AE%A1%E6%95%B0"><span class="nav-number">6.18.</span> <span class="nav-text">文章阅读量、访问量计数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B5%E8%84%9A%E6%B7%BB%E5%8A%A0%E6%80%BB%E8%AE%BF%E9%97%AE%E9%87%8F"><span class="nav-number">6.19.</span> <span class="nav-text">页脚添加总访问量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD"><span class="nav-number">6.20.</span> <span class="nav-text">评论功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E5%AD%97%E6%95%B0%E8%AE%A1%E6%95%B0%E3%80%81%E9%98%85%E8%AF%BB%E6%97%B6%E9%97%B4%E4%BC%B0%E8%AE%A1%E3%80%81%E7%AB%99%E7%82%B9%E6%80%BB%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1%E3%80%81%E6%80%BB%E6%97%B6%E9%97%B4%E7%BB%9F%E8%AE%A1"><span class="nav-number">6.21.</span> <span class="nav-text">文章字数计数、阅读时间估计、站点总字数统计、总时间统计</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%B9%B3%E6%BB%91%E5%8D%87%E7%BA%A7"><span class="nav-number">7.</span> <span class="nav-text">如何平滑升级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E6%9B%B4%E6%96%B0"><span class="nav-number">8.</span> <span class="nav-text">自动化部署更新</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5"><span class="nav-number">9.</span> <span class="nav-text">问题排查</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Git-not-a-command"><span class="nav-number">9.1.</span> <span class="nav-text">Git not a command</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Deployer-not-found-git"><span class="nav-number">9.2.</span> <span class="nav-text">Deployer not found: git</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ERROR-Plugin-load-failed-hexo-generator-feed"><span class="nav-number">9.3.</span> <span class="nav-text">ERROR Plugin load failed: hexo-generator-feed</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Module-xxx-NOT-FOUND"><span class="nav-number">9.4.</span> <span class="nav-text">Module xxx NOT_FOUND</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="IITII" src="/images/site/avatar.jpeg"><p class="site-author-name" itemprop="name">IITII</p><div class="site-description" itemprop="description">山野之人，粗鄙之语</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">83</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">74</span> <span class="site-state-item-name">分类</span></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">279</span> <span class="site-state-item-name">标签</span></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2lpdGlp" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;iitii"><i class="fab fa-github fa-fw"></i> GitHub</span></span><span class="links-of-author-item"><span class="exturl" data-url="bWFpbHRvOmNjbWVqeEBnbWFpbC5jb20=" title="E-Mail → mailto:ccmejx@gmail.com"><i class="fa fa-envelope fa-fw"></i> E-Mail</span></span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly90Lm1lL2NhbGxtZWhlbHA=" title="Telegram → https:&#x2F;&#x2F;t.me&#x2F;callmehelp"><i class="fab fa-telegram fa-fw"></i> Telegram</span></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">IITII</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-chart-area"></i></span> <span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">264k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">4:01</span></div><div><div><span>本站总访问量</span> <span id="site_total_read_count">Loading...</span></div><script>async function sleep(ms = 1000) {
            return await new Promise(resolve => {
                const timer = setTimeout(() => {
                    clearTimeout(timer)
                    return resolve()
                }, ms)
            })
        }
        async function site_read_count() {
            const className = 'Counter',
                query = new AV.Query(className)
            return query.find()
                .then(_ => _.map(i => i.attributes.time))
                .then(_ => _.reduce((a, b) => a + b))
        }
        new Promise(resolve => {
            const timer = setInterval(() => {
                if (typeof AV !== "undefined") {
                    clearInterval(timer)
                    return resolve()
                }
            }, 250)
        })
            .then(() => site_read_count())
            .then(_ => {
                const s = ` ${_} 次`
                document.getElementById("site_total_read_count").innerHTML = s
            })
            .catch(e => console.error(e.message))</script></div><div><span>小破站已经在风雨中度过了</span> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script>function createtime() {
            const startTime = '09/27/2018 00:12:55',
                start = new Date(startTime)
            let mill = new Date() - start,
                seconds = Math.floor(mill / 1000),
                mins = Math.floor(seconds / 60),
                hours = Math.floor(mins / 60),
                days = Math.floor(hours / 24)
            const time = {
                seconds: seconds - mins * 60,
                mins: mins - hours * 60,
                hours: hours - days * 24,
            }
            for (const k in time) {
                time[k] = `${time[k]}`.padStart(2, '0')
            }
            document.getElementById("timeDate").innerHTML = ` ${days} 天`
            document.getElementById("times").innerHTML = ` ${time.hours} 小时 ${time.mins} 分 ${time.seconds} 秒`
        }
        setInterval(createtime, 500)</script></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/local-search.js"></script><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : true,
      appId      : 'CBOM6O3uwz1B9KfOHxgobffN-MdYXbMMI',
      appKey     : 'UAEHAv1zkAaUz4l5VQizSXSH',
      placeholder: "写点什么...",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : 'https://api.ladhub.site'
    });
  }, window.Valine);
});</script></body></html>